<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerador de Fichas de Treino</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
      }
      .header h1 {
        color: #333;
        margin: 0;
        font-size: 2.5rem;
      }
      .header p {
        color: #666;
        margin: 10px 0 0 0;
        font-size: 1.1rem;
      }
      .logo-template {
        text-align: center;
        margin-bottom: 20px;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        color: white;
      }
      .logo-template h2 {
        margin: 0;
        font-size: 2rem;
        font-weight: bold;
      }
      .logo-template p {
        margin: 5px 0 0 0;
        font-size: 1.1rem;
        opacity: 0.9;
      }
      .content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
      }
      .card {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 25px;
        border: 1px solid #e9ecef;
      }
      .card h2 {
        margin: 0 0 15px 0;
        color: #333;
        font-size: 1.3rem;
      }
      .form-group {
        margin-bottom: 20px;
      }
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }
      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #555;
      }
      select, input, button {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-size: 16px;
        background: white;
        box-sizing: border-box;
      }
      input[type="number"] {
        text-align: center;
      }
      button {
        background: #667eea;
        color: white;
        border: none;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.3s;
      }
      button:hover {
        background: #5a6fd8;
      }
      .empty-state {
        text-align: center;
        color: #999;
        padding: 40px 20px;
      }
      .empty-state svg {
        width: 64px;
        height: 64px;
        margin-bottom: 20px;
        opacity: 0.5;
      }
      .exercise-item {
        background: white;
        padding: 15px;
        border-radius: 6px;
        margin-bottom: 10px;
        border-left: 4px solid #667eea;
        position: relative;
        display: flex;
        align-items: center;
        gap: 15px;
      }
      .exercise-item img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 6px;
        border: 2px solid #e9ecef;
      }
      .exercise-content {
        flex: 1;
      }
      .exercise-item h3 {
        margin: 0 0 5px 0;
        color: #333;
      }
      .exercise-item .details {
        color: #666;
        font-size: 14px;
        margin: 5px 0;
      }
      .exercise-item .technique {
        background: #e3f2fd;
        color: #1976d2;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        display: inline-block;
        margin-top: 5px;
      }
      .remove-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        width: auto !important;
        padding: 5px 10px !important;
        background: #dc3545 !important;
        font-size: 12px !important;
      }
      @media (max-width: 768px) {
        .content {
          grid-template-columns: 1fr;
        }
        .form-row {
          grid-template-columns: 1fr;
        }
        .header h1 {
          font-size: 2rem;
        }
        .exercise-item {
          flex-direction: column;
          text-align: center;
        }
        .exercise-item img {
          width: 100px;
          height: 100px;
        }
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>
  <body>
    <div class="container">
      <div class="logo-template">
        <h2>üèãÔ∏è FILIPE SOARES</h2>
        <p>CONSULTORIA ESPORTIVA</p>
      </div>
      
      <div class="header">
        <h1>Gerador de Fichas de Treino</h1>
      </div>
      
      <div class="content">
        <div class="card">
          <h2>‚ûï Adicionar Exerc√≠cio</h2>
          <p style="color: #666; margin-bottom: 20px;">Configure seu exerc√≠cio com todos os detalhes</p>
          
          <div class="form-group">
            <label for="grupo-muscular">Grupo Muscular</label>
            <select id="grupo-muscular">
              <option value="">Selecione o grupo muscular</option>
              <option value="peitoral">Peitoral</option>
              <option value="dorsais">Dorsais (Costas)</option>
              <option value="ombros">Ombros (Deltoides)</option>
              <option value="bracos">Bra√ßos</option>
              <option value="pernas">Pernas</option>
              <option value="gluteos">Gl√∫teos</option>
              <option value="abdomen">Abd√¥men</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="exercicio">Exerc√≠cio</label>
            <select id="exercicio" disabled>
              <option value="">Primeiro selecione o grupo muscular</option>
            </select>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="series">S√©ries</label>
              <input type="number" id="series" min="1" max="10" value="3">
            </div>
            <div class="form-group">
              <label for="repeticoes">Repeti√ß√µes</label>
              <input type="number" id="repeticoes" min="1" max="50" value="12">
            </div>
          </div>
          
          <div class="form-group">
            <label for="tecnica">T√©cnica (Opcional)</label>
            <select id="tecnica">
              <option value="">Nenhuma t√©cnica</option>
              <option value="Drop set">Drop set</option>
              <option value="Rest-pause">Rest-pause</option>
              <option value="Bi-set">Bi-set</option>
              <option value="Tri-set">Tri-set</option>
              <option value="Giant set">Giant set</option>
              <option value="Super-set">Super-set</option>
              <option value="Pr√©-exaust√£o">Pr√©-exaust√£o</option>
              <option value="P√≥s-exaust√£o">P√≥s-exaust√£o</option>
              <option value="Isometria">Isometria</option>
              <option value="Parciais">Parciais</option>
              <option value="For√ßada">For√ßada</option>
              <option value="Negativa">Negativa</option>
              <option value="Cluster set">Cluster set</option>
              <option value="Piramidal crescente">Piramidal crescente</option>
              <option value="Piramidal decrescente">Piramidal decrescente</option>
              <option value="FST-7">FST-7</option>
            </select>
          </div>
          
          <button onclick="adicionarExercicio()">Adicionar √† Ficha</button>
        </div>
        
        <div class="card">
          <h2>üìã Sua Ficha de Treino</h2>
          <p style="color: #666; margin-bottom: 20px;">0 exerc√≠cio(s) adicionado(s)</p>
          
          <div class="empty-state">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
            <div>
              <strong>Nenhum exerc√≠cio adicionado ainda</strong><br>
              Selecione exerc√≠cios para come√ßar sua ficha
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const exerciciosPorGrupo = {
        peitoral: [
          'Supino reto', 'Supino inclinado', 'Supino declinado', 'Supino com pegada fechada',
          'Crucifixo reto', 'Crucifixo inclinado', 'Crucifixo declinado', 'Pullover com halteres',
          'Pullover com barra', 'Flex√£o de bra√ßo tradicional', 'Flex√£o com pegada fechada',
          'Flex√£o diamante', 'Flex√£o arqueiro', 'Flex√£o explosiva/pliom√©trica', 'Peck deck (voador)',
          'Crossover alto, m√©dio e baixo', 'Supino m√°quina (reto, inclinado e declinado)',
          'Press convergente na m√°quina', 'Press no Smith', 'Cable fly (fly no cabo, inclinado ou declinado)'
        ],
        dorsais: [
          'Barra fixa (pronada, supinada, neutra)', 'Pulldown frente', 'Pulldown inverso',
          'Pulldown atr√°s da nuca', 'Pulldown com pegada fechada', 'Pulldown unilateral no cabo',
          'Remada curvada com barra', 'Remada curvada pronada', 'Remada curvada supinada',
          'Remada curvada com pegada mista', 'Remada unilateral com halteres', 'Remada baixa no pulley',
          'Remada cavalinho (T-bar row)', 'Remada no Smith', 'Remada na m√°quina articulada',
          'Remada serratus (focando serr√°til)', 'Pullover no cabo', 'Pullover com halteres',
          'Levantamento terra tradicional', 'Terra romeno', 'Terra sum√¥', 'Good morning',
          'Meadows row (remada unilateral na barra T)'
        ],
        ombros: [
          'Desenvolvimento militar', 'Desenvolvimento Arnold', 'Eleva√ß√£o frontal barra/halteres/cabo',
          'Landmine press', 'Eleva√ß√£o lateral com halteres', 'Eleva√ß√£o lateral no cabo',
          'Eleva√ß√£o lateral sentado', 'Eleva√ß√£o lateral parcial (ponto m√©dio)',
          'Crucifixo inverso com halteres', 'Crucifixo inverso no cabo', 'Crucifixo inverso na m√°quina',
          'Face pull', 'Clean & press', 'Push press', 'Remada alta (barra, cabo, halteres)'
        ],
        bracos: [
          'Rosca direta (barra reta, barra W, halteres)', 'Rosca alternada', 'Rosca martelo',
          'Rosca concentrada', 'Rosca Scott (barra ou halteres)', 'Rosca no cabo baixo',
          'Rosca 21', 'Rosca spider', 'Rosca inversa', 'Tr√≠ceps testa', 'Tr√≠ceps franc√™s',
          'Tr√≠ceps corda', 'Tr√≠ceps barra reta', 'Tr√≠ceps coice', 'Tr√≠ceps banco (mergulho)',
          'Paralelas (dips)', 'Tr√≠ceps invertido no cabo', 'JM press', 'Flex√£o de punho pronada',
          'Flex√£o de punho supinada', 'Farmer\'s walk', 'Prona√ß√£o e supina√ß√£o com halter', 'Wrist roller'
        ],
        pernas: [
          'Agachamento livre', 'Agachamento frontal', 'Hack squat', 'Leg press 45¬∞',
          'Cadeira extensora', 'Passada', 'Afundo', 'Afundo b√∫lgaro', 'Stiff', 'Stiff romeno',
          'Mesa flexora', 'Flexora sentado', 'Nordic curl', 'Adutora no banco/m√°quina',
          'Abdu√ß√£o no cabo/m√°quina', 'Eleva√ß√£o lateral de perna com caneleira'
        ],
        gluteos: [
          'Hip thrust', 'Glute bridge', 'Glute bridge unilateral', 'Kickback no cabo',
          'Step-up no banco', 'Abdu√ß√£o no cabo', 'Abdu√ß√£o na m√°quina', 'Peso morto sum√¥'
        ],
        abdomen: [
          'Abdominal tradicional', 'Abdominal supra/inferior', 'Eleva√ß√£o de pernas',
          'Eleva√ß√£o de joelhos', 'Prancha', 'Prancha lateral', 'Prancha com eleva√ß√£o alternada',
          'Abdominal no cabo', 'Abdominal na bola su√≠√ßa', 'Ab wheel rollout'
        ]
      };

      const tecnicasDescricoes = {
        'Drop set': 'Reduz a carga ap√≥s a falha e continua o exerc√≠cio',
        'Rest-pause': 'Pausas curtas (10‚Äì15 seg) e mais repeti√ß√µes at√© falhar',
        'Bi-set': 'Dois exerc√≠cios para o mesmo m√∫sculo, sem descanso',
        'Tri-set': 'Tr√™s exerc√≠cios para o mesmo m√∫sculo, sem descanso',
        'Giant set': 'Quatro ou mais exerc√≠cios para o mesmo m√∫sculo',
        'Super-set': 'Dois exerc√≠cios de m√∫sculos antagonistas sem descanso',
        'Pr√©-exaust√£o': 'Exerc√≠cio isolado antes do composto',
        'P√≥s-exaust√£o': 'Exerc√≠cio composto antes do isolado',
        'Isometria': 'Segurar o peso em um ponto fixo por tempo',
        'Parciais': 'Movimentos incompletos para prolongar est√≠mulo',
        'For√ßada': 'Parceiro auxilia ap√≥s a falha',
        'Negativa': '√änfase na fase exc√™ntrica',
        'Cluster set': 'Intervalos curtos entre pequenas s√©ries dentro da mesma s√©rie',
        'Piramidal crescente': 'Aumenta a carga e diminui repeti√ß√µes',
        'Piramidal decrescente': 'Diminui carga e aumenta repeti√ß√µes',
        'FST-7': '7 s√©ries de um mesmo exerc√≠cio com pouco descanso (30‚Äì45 seg)'
      };

      // Mapeamento de exerc√≠cios para imagens
      const mapeamentoImagens = {
        "Supino reto": "exercicios_imagens/Peitoral/Supino na m√°quina.png",
        "Supino inclinado": "exercicios_imagens/Peitoral/Supino inclinado na m√°quina.png",
        "Supino declinado": "exercicios_imagens/Peitoral/Supino Declinado Unilateral Pegada Martelo com Haltere.png",
        "Supino com pegada fechada": "exercicios_imagens/Peitoral/Supino inclinado com pegada fechada.png",
        "Crucifixo reto": "exercicios_imagens/Peitoral/Crucifixo Inclinado Cross.png",
        "Crucifixo inclinado": "exercicios_imagens/Peitoral/Crucifixo Inclinado Cross.png",
        "Crucifixo declinado": "exercicios_imagens/Peitoral/Crucifixo com Cabo Declinado.png",
        "Pullover com halteres": "exercicios_imagens/Costas/Pullover com Barra.png",
        "Pullover com barra": "exercicios_imagens/Peitoral/Pullover com Halteres na Bola de Estabilidade.png",
        "Flex√£o de bra√ßo tradicional": "exercicios_imagens/Peitoral/Supino com kettlebell de um bra√ßo.png",
        "Flex√£o com pegada fechada": "exercicios_imagens/Peitoral/Supino inclinado com pegada fechada.png",
        "Flex√£o diamante": "exercicios_imagens/Peitoral/Voador unilateral no Solo com Barra.png",
        "Flex√£o arqueiro": "exercicios_imagens/Peitoral/Voador unilateral no Solo com Barra.png",
        "Flex√£o explosiva/pliom√©trica": "exercicios_imagens/Peitoral/Voador unilateral no Solo com Barra.png",
        "Peck deck (voador)": "exercicios_imagens/Peitoral/Voador no pec deck.png",
        "Crossover alto, m√©dio e baixo": "exercicios_imagens/Peitoral/Crossover na Alavanca.png",
        "Supino m√°quina (reto, inclinado e declinado)": "exercicios_imagens/Peitoral/Supino inclinado na m√°quina.png",
        "Press convergente na m√°quina": "exercicios_imagens/Peitoral/Voador na M√°quina.png",
        "Press no Smith": "exercicios_imagens/Peitoral/Supino na m√°quina Smith.png",
        "Cable fly (fly no cabo, inclinado ou declinado)": "exercicios_imagens/Peitoral/Supino inclinado com cabo.png",
        "Barra fixa (pronada, supinada, neutra)": "exercicios_imagens/Costas/Barra Fixa Assistida.png",
        "Pulldown frente": "exercicios_imagens/Costas/Pulldown Unilateral no Cabo.png",
        "Pulldown inverso": "exercicios_imagens/Costas/Pulldown Unilateral no Cabo.png",
        "Pulldown atr√°s da nuca": "exercicios_imagens/Costas/Pulldown Unilateral no Cabo.png",
        "Pulldown com pegada fechada": "exercicios_imagens/Costas/Remada sentado com cabo pegada fechada.png",
        "Pulldown unilateral no cabo": "exercicios_imagens/Costas/Pulldown Unilateral no Cabo.png",
        "Remada curvada com barra": "exercicios_imagens/Costas/Remada T com Landmine.png",
        "Remada curvada pronada": "exercicios_imagens/Costas/Remada Curvada no Smith.png",
        "Remada curvada supinada": "exercicios_imagens/Costas/Remada Curvada no Smith.png",
        "Remada curvada com pegada mista": "exercicios_imagens/Costas/Remada Curvada no Smith.png",
        "Remada unilateral com halteres": "exercicios_imagens/Costas/Remada Unilateral com Halteres.png",
        "Remada baixa no pulley": "exercicios_imagens/Costas/Remada sentado com cabo pegada fechada.png",
        "Remada cavalinho (T-bar row)": "exercicios_imagens/Costas/Remada T com Landmine.png",
        "Remada no Smith": "exercicios_imagens/Costas/Remada Curvada no Smith.png",
        "Remada na m√°quina articulada": "exercicios_imagens/Costas/Remada na M√°quina.png",
        "Remada serratus (focando serr√°til)": "exercicios_imagens/Costas/Remada na M√°quina.png",
        "Pullover no cabo": "exercicios_imagens/Costas/Pullover com Barra.png",
        "Pullover com halteres": "exercicios_imagens/Costas/Pullover com Barra.png",
        "Levantamento terra tradicional": "exercicios_imagens/Pernas/Levantamento Terra.png",
        "Terra romeno": "exercicios_imagens/Pernas/Levantamento Terra Romeno.png",
        "Terra sum√¥": "exercicios_imagens/Pernas/Levantamento Terra Sum√¥.png",
        "Good morning": "exercicios_imagens/Pernas/Bom dia.png",
        "Meadows row (remada unilateral na barra T)": "exercicios_imagens/Costas/Remada T com Landmine.png",
        "Desenvolvimento militar": "exercicios_imagens/Ombros/Desenvolvimento Militar com Barra.png",
        "Desenvolvimento Arnold": "exercicios_imagens/Ombros/Desenvolvimento Arnold.png",
        "Eleva√ß√£o frontal barra/halteres/cabo": "exercicios_imagens/Ombros/Eleva√ß√£o Frontal com Halteres.png",
        "Landmine press": "exercicios_imagens/Ombros/Desenvolvimento com Landmine.png",
        "Eleva√ß√£o lateral com halteres": "exercicios_imagens/Ombros/Eleva√ß√£o Lateral com Halteres.png",
        "Eleva√ß√£o lateral no cabo": "exercicios_imagens/Ombros/Eleva√ß√£o Lateral com Cabo.png",
        "Eleva√ß√£o lateral sentado": "exercicios_imagens/Ombros/Eleva√ß√£o Lateral com Halteres Sentado.png",
        "Eleva√ß√£o lateral parcial (ponto m√©dio)": "exercicios_imagens/Ombros/Eleva√ß√£o Lateral com Halteres.png",
        "Crucifixo inverso com halteres": "exercicios_imagens/Ombros/Crucifixo Inverso com Halteres.png",
        "Crucifixo inverso no cabo": "exercicios_imagens/Ombros/Crucifixo Inverso com Cabo.png",
        "Crucifixo inverso na m√°quina": "exercicios_imagens/Ombros/Crucifixo Inverso na M√°quina.png",
        "Face pull": "exercicios_imagens/Trap√©zio/Puxada para o Rosto.png",
        "Clean & press": "exercicios_imagens/Ombros/Desenvolvimento Militar com Barra.png",
        "Push press": "exercicios_imagens/Ombros/Desenvolvimento Militar com Barra.png",
        "Remada alta (barra, cabo, halteres)": "exercicios_imagens/Trap√©zio/Remada Alta com Cabo.png",
        "Rosca direta (barra reta, barra W, halteres)": "exercicios_imagens/B√≠ceps/Rosca Direta com Barra.png",
        "Rosca alternada": "exercicios_imagens/B√≠ceps/Rosca Alternada com Halteres.png",
        "Rosca martelo": "exercicios_imagens/B√≠ceps/Rosca Martelo com Halteres.png",
        "Rosca concentrada": "exercicios_imagens/B√≠ceps/Rosca Concentrada com Halteres.png",
        "Rosca Scott (barra ou halteres)": "exercicios_imagens/B√≠ceps/Rosca Scott com Barra.png",
        "Rosca no cabo baixo": "exercicios_imagens/B√≠ceps/Rosca com Cabo.png",
        "Rosca 21": "exercicios_imagens/B√≠ceps/Rosca Direta com Barra.png",
        "Rosca spider": "exercicios_imagens/B√≠ceps/Rosca Spider com Halteres.png",
        "Rosca inversa": "exercicios_imagens/B√≠ceps/Rosca Inversa com Barra.png",
        "Tr√≠ceps testa": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps testa com barra.png",
        "Tr√≠ceps franc√™s": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps franc√™s com barra W acima da cabe√ßa sentado.png",
        "Tr√≠ceps corda": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps pulley corda.png",
        "Tr√≠ceps barra reta": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps pulley barra.png",
        "Tr√≠ceps coice": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps Coice com Halteres.png",
        "Tr√≠ceps banco (mergulho)": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps no Banco.png",
        "Paralelas (dips)": "exercicios_imagens/Tr√≠ceps/Mergulho de tr√≠ceps.png",
        "Tr√≠ceps invertido no cabo": "exercicios_imagens/Tr√≠ceps/Tr√≠ceps pulley pegada invertida.png",
        "JM press": "exercicios_imagens/Tr√≠ceps/Supino Invertido com Pegada Fechada.png",
        "Flex√£o de punho pronada": "exercicios_imagens/Antebra√ßos/Flex√£o de Punho com Halteres.png",
        "Flex√£o de punho supinada": "exercicios_imagens/Antebra√ßos/Flex√£o de Punho com Halteres.png",
        "Farmer's walk": "exercicios_imagens/Antebra√ßos/Flex√£o de Punho com Halteres.png",
        "Prona√ß√£o e supina√ß√£o com halter": "exercicios_imagens/Antebra√ßos/Rosca de Dedos com Halteres.png",
        "Wrist roller": "exercicios_imagens/Antebra√ßos/Flex√£o de Punho com Halteres.png",
        "Agachamento livre": "exercicios_imagens/Pernas/Agachamento.png",
        "Agachamento frontal": "exercicios_imagens/Pernas/Agachamento Frontal.png",
        "Hack squat": "exercicios_imagens/Pernas/Agachamento na M√°quina Hack.png",
        "Leg press 45¬∞": "exercicios_imagens/Pernas/Leg Press.png",
        "Cadeira extensora": "exercicios_imagens/Pernas/Cadeira extensora.png",
        "Passada": "exercicios_imagens/Pernas/Afundo com Barra.png",
        "Afundo": "exercicios_imagens/Pernas/Afundo com Barra.png",
        "Afundo b√∫lgaro": "exercicios_imagens/Pernas/Agachamento B√∫lgaro com Halteres.png",
        "Stiff": "exercicios_imagens/Pernas/Stiff com barra.png",
        "Stiff romeno": "exercicios_imagens/Pernas/Levantamento Terra Romeno.png",
        "Mesa flexora": "exercicios_imagens/Pernas/Mesa flexora.png",
        "Flexora sentado": "exercicios_imagens/Pernas/Cadeira flexora.png",
        "Nordic curl": "exercicios_imagens/Pernas/Flex√£o N√≥rdica.png",
        "Adutora no banco/m√°quina": "exercicios_imagens/Pernas/M√°quina de Adu√ß√£o de Quadril.png",
        "Abdu√ß√£o no cabo/m√°quina": "exercicios_imagens/Pernas/Adu√ß√£o do Quadril com Cabo.png",
        "Eleva√ß√£o lateral de perna com caneleira": "exercicios_imagens/Pernas/Eleva√ß√£o de Perna em P√© com Alavanca.png",
        "Hip thrust": "exercicios_imagens/Gl√∫teos/Hip Thrust com Barra.png",
        "Glute bridge": "exercicios_imagens/Pernas/Ponte de Gl√∫teos com Barra.png",
        "Glute bridge unilateral": "exercicios_imagens/Gl√∫teos/Ponte de Gl√∫teos Unilateral.png",
        "Kickback no cabo": "exercicios_imagens/Gl√∫teos/Kickback no Cabo.png",
        "Step-up no banco": "exercicios_imagens/Pernas/Subida no Step com Eleva√ß√£o de Joelhos.png",
        "Abdu√ß√£o no cabo": "exercicios_imagens/Gl√∫teos/Abdu√ß√£o no Cabo.png",
        "Abdu√ß√£o na m√°quina": "exercicios_imagens/Gl√∫teos/Abdu√ß√£o na M√°quina.png",
        "Peso morto sum√¥": "exercicios_imagens/Pernas/Levantamento Terra Sum√¥.png",
        "Abdominal tradicional": "exercicios_imagens/Abd√¥men/Abdominal.png",
        "Abdominal supra/inferior": "exercicios_imagens/Abd√¥men/Abdominal.png",
        "Eleva√ß√£o de pernas": "exercicios_imagens/Pernas/Eleva√ß√£o de Joelho com Halteres.png",
        "Eleva√ß√£o de joelhos": "exercicios_imagens/Pernas/Eleva√ß√£o de Joelho com Halteres.png",
        "Prancha": "exercicios_imagens/Abd√¥men/Prancha.png",
        "Prancha lateral": "exercicios_imagens/Abd√¥men/Prancha Lateral.png",
        "Prancha com eleva√ß√£o alternada": "exercicios_imagens/Abd√¥men/Prancha.png",
        "Abdominal no cabo": "exercicios_imagens/Abd√¥men/Abdominal no Cabo.gif",
        "Abdominal na bola su√≠√ßa": "exercicios_imagens/Abd√¥men/Abdominal na Bola Su√≠√ßa.gif",
        "Ab wheel rollout": "exercicios_imagens/Abd√¥men/Ab Wheel.gif"
      };

      let fichaAtual = [];
      let imagensBase64Cache = {};

      // Fun√ß√£o para converter imagem para Base64
      function converterImagemParaBase64(url) {
        return new Promise((resolve, reject) => {
          // Verificar se j√° est√° no cache
          if (imagensBase64Cache[url]) {
            resolve(imagensBase64Cache[url]);
            return;
          }

          const img = new Image();
          img.crossOrigin = 'anonymous';
          
          img.onload = function() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = this.naturalWidth;
            canvas.height = this.naturalHeight;
            
            ctx.drawImage(this, 0, 0);
            
            try {
              const dataURL = canvas.toDataURL('image/png');
              imagensBase64Cache[url] = dataURL;
              resolve(dataURL);
            } catch (error) {
              console.error('Erro ao converter imagem para Base64:', error);
              resolve(''); // Retorna string vazia em caso de erro
            }
          };
          
          img.onerror = function() {
            console.error('Erro ao carregar imagem:', url);
            resolve(''); // Retorna string vazia em caso de erro
          };
          
          img.src = url;
        });
      }

      document.getElementById('grupo-muscular').addEventListener('change', function() {
        const grupoSelecionado = this.value;
        const selectExercicio = document.getElementById('exercicio');
        
        selectExercicio.innerHTML = '<option value="">Selecione o exerc√≠cio</option>';
        
        if (grupoSelecionado && exerciciosPorGrupo[grupoSelecionado]) {
          selectExercicio.disabled = false;
          exerciciosPorGrupo[grupoSelecionado].forEach(exercicio => {
            const option = document.createElement('option');
            option.value = exercicio;
            option.textContent = exercicio;
            selectExercicio.appendChild(option);
          });
        } else {
          selectExercicio.disabled = true;
        }
      });

      function adicionarExercicio() {
        const grupo = document.getElementById('grupo-muscular').value;
        const exercicio = document.getElementById('exercicio').value;
        const series = document.getElementById('series').value;
        const repeticoes = document.getElementById('repeticoes').value;
        const tecnica = document.getElementById('tecnica').value;
        
        if (!grupo || !exercicio || !series || !repeticoes) {
          alert('Por favor, preencha todos os campos obrigat√≥rios.');
          return;
        }
        
        fichaAtual.push({ 
          grupo, 
          exercicio, 
          series: parseInt(series), 
          repeticoes: parseInt(repeticoes),
          tecnica: tecnica || null
        });
        
        atualizarFicha();
        
        // Limpar sele√ß√µes
        document.getElementById('grupo-muscular').value = '';
        document.getElementById('exercicio').innerHTML = '<option value="">Primeiro selecione o grupo muscular</option>';
        document.getElementById('exercicio').disabled = true;
        document.getElementById('series').value = '3';
        document.getElementById('repeticoes').value = '12';
        document.getElementById('tecnica').value = '';
      }

      function atualizarFicha() {
        const container = document.querySelector('.card:last-child');
        
        if (fichaAtual.length === 0) {
          container.innerHTML = `
            <h2>üìã Sua Ficha de Treino</h2>
            <p style="color: #666; margin-bottom: 20px;">0 exerc√≠cio(s) adicionado(s)</p>
            <div class="empty-state">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
              <div>
                <strong>Nenhum exerc√≠cio adicionado ainda</strong><br>
                Selecione exerc√≠cios para come√ßar sua ficha
              </div>
            </div>
          `;
        } else {
          let listaHTML = `
            <h2>üìã Sua Ficha de Treino</h2>
            <p style="color: #666; margin-bottom: 20px;">${fichaAtual.length} exerc√≠cio(s) adicionado(s)</p>
            <div>
          `;
          
          fichaAtual.forEach((item, index) => {
            const imagemExercicio = mapeamentoImagens[item.exercicio] || 'exercicios_imagens/default.png';
            listaHTML += `
              <div class="exercise-item">
                <img src="${imagemExercicio}" alt="${item.exercicio}" onerror="this.style.display='none'">
                <div class="exercise-content">
                  <h3>${index + 1}. ${item.exercicio}</h3>
                  <div class="details">
                    <strong>Grupo:</strong> ${item.grupo.charAt(0).toUpperCase() + item.grupo.slice(1)} | 
                    <strong>S√©ries:</strong> ${item.series} | 
                    <strong>Repeti√ß√µes:</strong> ${item.repeticoes}
                  </div>
                  ${item.tecnica ? `<div class="technique">${item.tecnica}</div>` : ''}
                </div>
                <button onclick="removerExercicio(${index})" class="remove-btn">Remover</button>
              </div>
            `;
          });
          
          listaHTML += `
            </div>
            <button onclick="gerarPDF()" style="margin-top: 20px; background: #28a745;">üìÑ Gerar PDF</button>
          `;
          
          container.innerHTML = listaHTML;
        }
      }

      function removerExercicio(index) {
        fichaAtual.splice(index, 1);
        atualizarFicha();
      }

      async function gerarPDF() {
        if (fichaAtual.length === 0) {
          alert("Adicione pelo menos um exerc√≠cio √† sua ficha.");
          return;
        }

        console.log("Iniciando gera√ß√£o de PDF...");

        // Criar elemento tempor√°rio para o PDF
        const elementoPDF = document.createElement('div');
        elementoPDF.style.cssText = `
          padding: 30px;
          font-family: Arial, sans-serif;
          background: white;
          color: black;
          width: 100%;
          box-sizing: border-box;
        `;

        // Cabe√ßalho do PDF
        let conteudoPDF = `
          <div style="text-align: center; margin-bottom: 40px; border-bottom: 2px solid #667eea; padding-bottom: 20px;">
            <h1 style="color: #333; margin: 0; font-size: 28px; font-weight: bold;">FICHA DE TREINO</h1>
            <h2 style="color: #667eea; margin: 10px 0; font-size: 20px;">üèãÔ∏è Filipe Soares - Consultoria Esportiva</h2>
            <p style="color: #666; margin: 10px 0; font-size: 14px;">Gerado em: ${new Date().toLocaleDateString("pt-BR")}</p>
          </div>
          <div>
        `;

        // Converter todas as imagens para Base64 antes de gerar o PDF
        console.log("Convertendo imagens para Base64...");
        for (let i = 0; i < fichaAtual.length; i++) {
          const item = fichaAtual[i];
          const imagemExercicio = mapeamentoImagens[item.exercicio];
          
          if (imagemExercicio) {
            try {
              const imagemBase64 = await converterImagemParaBase64(imagemExercicio);
              
              conteudoPDF += `
                <div style="background: #f8f9fa; padding: 20px; margin-bottom: 15px; border-radius: 8px; border-left: 4px solid #667eea; page-break-inside: avoid; display: flex; align-items: center; gap: 15px;">
                  ${imagemBase64 ? `<img src="${imagemBase64}" alt="${item.exercicio}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 8px; border: 2px solid #e9ecef;">` : ''}
                  <div style="flex: 1;">
                    <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px; font-weight: bold;">${i + 1}. ${item.exercicio}</h3>
                    <div style="color: #666; font-size: 14px; margin: 5px 0; line-height: 1.4;">
                      <strong>Grupo Muscular:</strong> ${item.grupo.charAt(0).toUpperCase() + item.grupo.slice(1)}<br>
                      <strong>S√©ries:</strong> ${item.series} | <strong>Repeti√ß√µes:</strong> ${item.repeticoes}
                    </div>
                    ${item.tecnica ? `
                      <div style="background: #e3f2fd; color: #1976d2; padding: 8px 12px; border-radius: 4px; font-size: 12px; margin-top: 10px; display: inline-block;">
                        <strong>T√©cnica:</strong> ${item.tecnica}
                        ${tecnicasDescricoes[item.tecnica] ? `<br><em>${tecnicasDescricoes[item.tecnica]}</em>` : ''}
                      </div>
                    ` : ''}
                  </div>
                </div>
              `;
            } catch (error) {
              console.error('Erro ao converter imagem:', error);
              // Adicionar exerc√≠cio sem imagem em caso de erro
              conteudoPDF += `
                <div style="background: #f8f9fa; padding: 20px; margin-bottom: 15px; border-radius: 8px; border-left: 4px solid #667eea; page-break-inside: avoid;">
                  <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px; font-weight: bold;">${i + 1}. ${item.exercicio}</h3>
                  <div style="color: #666; font-size: 14px; margin: 5px 0; line-height: 1.4;">
                    <strong>Grupo Muscular:</strong> ${item.grupo.charAt(0).toUpperCase() + item.grupo.slice(1)}<br>
                    <strong>S√©ries:</strong> ${item.series} | <strong>Repeti√ß√µes:</strong> ${item.repeticoes}
                  </div>
                  ${item.tecnica ? `
                    <div style="background: #e3f2fd; color: #1976d2; padding: 8px 12px; border-radius: 4px; font-size: 12px; margin-top: 10px; display: inline-block;">
                      <strong>T√©cnica:</strong> ${item.tecnica}
                      ${tecnicasDescricoes[item.tecnica] ? `<br><em>${tecnicasDescricoes[item.tecnica]}</em>` : ''}
                    </div>
                  ` : ''}
                </div>
              `;
            }
          } else {
            // Exerc√≠cio sem imagem mapeada
            conteudoPDF += `
              <div style="background: #f8f9fa; padding: 20px; margin-bottom: 15px; border-radius: 8px; border-left: 4px solid #667eea; page-break-inside: avoid;">
                <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px; font-weight: bold;">${i + 1}. ${item.exercicio}</h3>
                <div style="color: #666; font-size: 14px; margin: 5px 0; line-height: 1.4;">
                  <strong>Grupo Muscular:</strong> ${item.grupo.charAt(0).toUpperCase() + item.grupo.slice(1)}<br>
                  <strong>S√©ries:</strong> ${item.series} | <strong>Repeti√ß√µes:</strong> ${item.repeticoes}
                </div>
                ${item.tecnica ? `
                  <div style="background: #e3f2fd; color: #1976d2; padding: 8px 12px; border-radius: 4px; font-size: 12px; margin-top: 10px; display: inline-block;">
                    <strong>T√©cnica:</strong> ${item.tecnica}
                    ${tecnicasDescricoes[item.tecnica] ? `<br><em>${tecnicasDescricoes[item.tecnica]}</em>` : ''}
                  </div>
                ` : ''}
              </div>
            `;
          }
        }

        conteudoPDF += `
          </div>
          <div style="margin-top: 30px; text-align: center; border-top: 1px solid #ddd; padding-top: 20px;">
            <p style="color: #666; font-size: 12px; margin: 0;">
              Ficha gerada pelo sistema de Filipe Soares - Consultoria Esportiva
            </p>
          </div>
        `;

        elementoPDF.innerHTML = conteudoPDF;

        // Configura√ß√µes do PDF
        const opcoesPDF = {
          margin: 0.5,
          filename: `ficha-treino-${new Date().toLocaleDateString("pt-BR").replace(/\//g, '-')}.pdf`,
          image: { type: 'jpeg', quality: 0.98 },
          html2canvas: { 
            scale: 4,
            useCORS: true,
            allowTaint: true,
            backgroundColor: '#ffffff'
          },
          jsPDF: { 
            unit: 'in', 
            format: 'a4', 
            orientation: 'portrait' 
          }
        };

        // Gerar PDF
        try {
          console.log("Gerando PDF com imagens em Base64...");
          await html2pdf().from(elementoPDF).set(opcoesPDF).save();
          console.log("PDF gerado com sucesso!");
        } catch (error) {
          console.error("Erro ao gerar PDF:", error);
          alert("Erro ao gerar PDF. Tente novamente.");
        }
      }
    </script>
  </body>
</html>

